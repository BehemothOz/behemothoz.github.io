<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Объекты</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><div class="main"><div class="tree">
<p><strong>Index</strong></p>
<p><a href="Baner.html">Baner</a></p>

<ol>
<li><a href="Baner--Время_и_з-п.html">Время и з/п</a></li>
</ol>
<p><a href="JavaScript.html">JavaScript</a></p>

<ol>
<li><a href="JavaScript--JS_Шаблоны_(Объекты).html">JS Шаблоны (Объекты)</a></li>
<li><a href="JavaScript--JS_Шаблоны_(Шаблоны_создания_объектов).html">JS Шаблоны (Шаблоны создания объектов)</a></li>
<ol>
<li><a href="JavaScript--JS_Шаблоны_(Шаблоны_создания_объектов)--Пространство_имен.html">Пространство имен</a></li>
</ol>
<li><a href="JavaScript--JS_Шаблоны_(Обертки).html">JS Шаблоны (Обертки)</a></li>
<li><a href="JavaScript--JS_Шаблоны_(Массивы).html">JS Шаблоны (Массивы)</a></li>
<li><a href="JavaScript--JS_Шаблоны_(Функции_-_Определения).html">JS Шаблоны (Функции / Определения)</a></li>
<li><a href="JavaScript--JS_Шаблоны_(Функции_-_Работа).html">JS Шаблоны (Функции / Работа)</a></li>
<ol>
<li><a href="JavaScript--JS_Шаблоны_(Функции_-_Работа)--Функции_обратного_вызова.html">Функции обратного вызова</a></li>
<li><a href="JavaScript--JS_Шаблоны_(Функции_-_Работа)--Возврат_функции.html">Возврат функции</a></li>
<li><a href="JavaScript--JS_Шаблоны_(Функции_-_Работа)--Самоопределяемые_функции.html">Самоопределяемые функции</a></li>
<li><a href="JavaScript--JS_Шаблоны_(Функции_-_Работа)--Немедленно_вызываемые_функции.html">Немедленно вызываемые функции</a></li>
<li><a href="JavaScript--JS_Шаблоны_(Функции_-_Работа)--Значения,_возвращаемые_немедленно_вызываемыми_функциями.html">Значения, возвращаемые немедленно вызываемыми функциями</a></li>
</ol>
<li><a href="JavaScript--JS_Шаблоны_(Функции_-_Примеры).html">JS Шаблоны (Функции / Примеры)</a></li>
<li><a href="JavaScript--JS_Шаблоны_(JSON).html">JS Шаблоны (JSON)</a></li>
<li><a href="JavaScript--Работа_с_DOM_деревом.html">Работа с DOM деревом</a></li>
<ol>
<li><a href="JavaScript--Работа_с_DOM_деревом--Перемещение_DOM_элементов.html">Перемещение DOM элементов</a></li>
<li><a href="JavaScript--Работа_с_DOM_деревом--Создание_DOM_элементов.html">Создание DOM элементов</a></li>
</ol>
<li><a href="JavaScript--Шаблонизация.html">Шаблонизация</a></li>
<li><a href="JavaScript--Конструкторы_и_прототипы.html">Конструкторы и прототипы</a></li>
<li><a href="JavaScript--AJAX.html">AJAX</a></li>
<ol>
<li><a href="JavaScript--AJAX--JSONP.html">JSONP</a></li>
</ol>
<li><a href="JavaScript--!Мысли.html">!Мысли</a></li>
<li><a href="JavaScript--style_js.html">style js</a></li>
<li><a href="JavaScript--console.time.html">console.time</a></li>
<li><a href="JavaScript--documentFragment.html">documentFragment</a></li>
<li><a href="JavaScript--WebWorker.html">WebWorker</a></li>
<li><a href="JavaScript--Вопросы.html">Вопросы</a></li>
<li><a href="JavaScript--Первый_xhr.html">Первый xhr</a></li>
</ol>
<p><a href="JavaScript2015(ES6).html">JavaScript2015(ES6)</a></p>

<ol>
<li><a href="JavaScript2015(ES6)--let_-_const.html">let / const</a></li>
<li><a href="JavaScript2015(ES6)--template_literals.html">template literals</a></li>
<li><a href="JavaScript2015(ES6)--Функции.html">Функции</a></li>
</ol>
<p><a href="Верстка.html">Верстка</a></p>

<ol>
<li><a href="Верстка--Приемы.html">Приемы</a></li>
<ol>
<li><a href="Верстка--Приемы--Многоточие_для_текста.html">Многоточие для текста</a></li>
<li><a href="Верстка--Приемы--Скрыть_текст.html">Скрыть текст</a></li>
</ol>
</ol>
<p><a href="Полезные_ссылки.html">Полезные ссылки</a></p>

<ol>
<li><a href="Полезные_ссылки--Верстка.html">Верстка</a></li>
<ol>
<li><a href="Полезные_ссылки--Верстка--Online_инструменты.html">Online инструменты</a></li>
</ol>
<li><a href="Полезные_ссылки--JavaScript.html">JavaScript</a></li>
</ol>
<p><a href="Словарь.html">Словарь</a></p>

<p><a href="Общее.html">Общее</a></p>

<p><a href="Как_я_ставил_pma.html">Как я ставил pma</a></p>

<p><a href="php.html">php</a></p>

<ol>
<li><a href="php--Вопросы.html">Вопросы</a></li>
<li><a href="php--debug.html">debug</a></li>
<li><a href="php--Форма.html">Форма</a></li>
<li><a href="php--Основы.html">Основы</a></li>
<ol>
<li><a href="php--Основы--Переменные.html">Переменные</a></li>
<ol>
<li><a href="php--Основы--Переменные--Локальные.html">Локальные</a></li>
<li><a href="php--Основы--Переменные--Глобальные.html">Глобальные</a></li>
<li><a href="php--Основы--Переменные--Статические.html">Статические</a></li>
<li><a href="php--Основы--Переменные--Суперглобальные.html">Суперглобальные</a></li>
<ol>
<li><a href="php--Основы--Переменные--Суперглобальные--$_SESSION_and_$_COOKIE.html">$_SESSION and $_COOKIE</a></li>
</ol>
</ol>
<li><a href="php--Основы--Функции.html">Функции</a></li>
<li><a href="php--Основы--Объекты.html">Объекты</a></li>
</ol>
<li><a href="php--MYSQL.html">MYSQL</a></li>
<ol>
<li><a href="php--MYSQL--Начало_работы.html">Начало работы</a></li>
<li><a href="php--MYSQL--Типы_данных.html">Типы данных</a></li>
<li><a href="php--MYSQL--Добавление_данных.html">Добавление данных</a></li>
<li><a href="php--MYSQL--Работа_с_таблицей.html">Работа с таблицей</a></li>
<li><a href="php--MYSQL--Индекс.html">Индекс</a></li>
<li><a href="php--MYSQL--Запросы_к_Базе_Данных.html">Запросы к Базе Данных</a></li>
</ol>
<li><a href="php--PHP_и_MySQL.html">PHP и MySQL</a></li>
</ol></div>
<div class="page"><h1><b><u>Объекты</u></b></h1>При создании программы, рассчитанной на использование объектов, нужно скон-<br />струировать некую совокупность данных и кода, называемую классом. Каждый<br />новый объект, основанный на этом классе, называется экземпляром (или случаем<br />употребления) этого класса.<br />Данные, связанные с объектом, называются его свойствами, а используемые им<br />функции — методами. При определении класса задаются имена его свойств и код<br />для его методов. На рис. 5.3 показана метафора объекта в виде музыкального авто-<br />мата. Компакт-диски в его карусели можно рассматривать в качестве его свойств,<br />а метод их проигрывания заключается в  нажатии кнопки на передней панели.<br />Есть также щель для опускания монет (метод, используемый для активизации<br />объекта) и устройство чтения компакт-дисков (метод, используемый для извлече-<br />ния музыки, или свойств, с компакт-дисков).<br />При создании объектов предпочтительно воспользоваться инкапсуляцией или<br />создавать класс таким образом, чтобы с его свойствами могли работать только его<br />собственные методы. Иными словами, нужно запретить внешнему коду непосред-<br />ственный доступ к данным объекта. Предоставляемые объектом методы известны<br />как интерфейс объекта.<br /><br />Как только класс будет создан, может выясниться, что нужен еще один, похожий<br />на него, но все же несколько отличающийся класс. Быстрее и проще всего будет<br />определить новый класс, воспользовавшись наследованием. При этом ваш новый<br />класс сохранит все свойства, присущие тому классу, чьим наследником он являет-<br />ся. Исходный класс теперь будет называться суперклассом, а новый класс — под-<br />классом (или производным классом).<br />Вернемся к примеру с музыкальным автоматом. Если вы изобретаете новый<br />музыкальный автомат, который наряду с музыкой может воспроизводить и видео­<br />клипы, то можете сохранить все свойства и методы исходного музыкального авто-<br />мата и добавить несколько новых свойств (видеоклипов) и новых методов (виде-<br />оплееров).<br /><br /><br />Перед тем как получить возможность использования объекта, нужно определить<br />класс с помощью ключевого слова class . Определение класса включает в себя имя<br />класса (чувствительное к регистру букв), его свойства и методы. В примере 5.10<br />дается определение класса User , имеющего два свойства: $name и  $password (которые<br />обозначены ключевым словом public  — см. подраздел «Область видимости свойств<br />и методов в PHP 5» данного раздела). В нем также создается новый экземпляр<br />этого класса (по имени $object ).<br />Пример 5.10. Объявление класса и проверка объекта<br />&lt;?php<br />$object = new User;<br />print_r($object);<br />class User<br />{<br />public $name, $password;<br />}<br />function save_user()<br />{<br />echo "Сюда помещается код, сохраняющий данные пользователя";<br />}<br />?&gt;<br /><br /><br /><br /><br /><br />Для создания объекта определенного класса используется ключевое слово new , при-<br />меняемое в выражении: объект = new Класс . Вот два способа создания объектов:<br />$object = new User;<br />$temp = new User('name', 'password');139<br />Объекты PHP<br />В первой строке мы просто назначаем объект классу User . А во второй строке<br />передаем вызову параметры.<br /><br /><br /><br /><br />Статические методы в PHP 5<br />При работе в PHP 5 можно также определить метод как статический, что будет<br />означать возможность его вызова в классе, но не в объекте. Статический метод<br />не имеет доступа ни к одному из свойств объекта, а создание такого метода и доступ<br />к нему показаны в примере 5.18.<br />Пример 5.18. Создание статического метода и доступ к нему<br />&lt;?php<br />User::pwd_string();<br />class User<br />{<br />static function pwd_string()<br />{<br />echo "Пожалуйста, введите свой пароль";<br />}<br />}<br />?&gt;<br />Обратите внимание на то, как наряду со статическим методом вызывается сам класс<br />и как при этом вместо оператора -&gt; используется оператор двойного двоеточия (::),144<br />Глава 5. Функции и объекты PHP<br />также известный как оператор разрешения области видимости. Статические функ-<br />ции полезны для совершения действий, относящихся к самому классу, но не к кон-<br />кретным экземплярам этого класса.<br /><br /><br />Область видимости свойств<br />и методов в PHP 5<br />PHP 5 предоставляет три ключевых слова для управления областью видимости<br />свойств и методов:<br />  public (открытые). Свойства с этой областью видимости получаются по умол-<br />чанию при объявлении переменной с помощью ключевых слов var или public<br />или когда переменная объявляется неявно при первом же ее использовании.<br />Ключевые слова var и  public являются взаимозаменяемыми. Хотя сейчас ис-<br />пользование var не приветствуется, оно сохранено для совместимости с преды-<br />дущими версиями PHP. Методы считаются открытыми по умолчанию;<br />  protected (защищенные). На свойства и методы с этой областью видимости<br />можно ссылаться только через принадлежащие объектам методы класса и та-<br />кие же методы любых подклассов;146<br />Глава 5. Функции и объекты PHP<br />  private (закрытые). К представителям класса с этой областью видимости мож-<br />но обращаться через методы этого же класса, но не через методы его подклассов.<br />Решение о том, какую область видимости применить, принимается на основе<br />следующих положений:<br />  открытую (public) область видимости следует применять, когда к представите-<br />лю класса нужен доступ из внешнего кода и когда расширенные классы должны<br />его наследовать;<br />  защищенную (protected) область видимости необходимо использовать, когда<br />к представителю класса не должно быть доступа из внешнего кода, но расши-<br />ренные классы все же должны его наследовать;<br />  закрытую (private) область видимости следует применять, когда к представи-<br />телю класса не должно быть доступа из внешнего кода и когда расширенные<br />классы не должны его наследовать.</div></div>
</body></html>